<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>SlateClock · About</title>
  <style>
    body{
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial,sans-serif;
      margin:0;
      padding:2rem;
      background:#0b0b0b;
      color:#fff
    }
    h1{margin:0 0 1rem 0}
    table{width:100%;border-collapse:collapse;margin-top:1rem}
    th,td{border-bottom:1px solid #333;padding:.8rem;text-align:left;vertical-align:top}
    a{color:#7cc7ff;word-break:break-all;text-decoration:none}
    a:hover{text-decoration:underline}
    .controls{margin:.5rem 0 1rem 0}
    input{padding:.5rem .8rem;border-radius:.4rem;border:1px solid #333;background:#111;color:#fff}
    button{padding:.5rem 1rem;border-radius:.4rem;border:1px solid #333;background:#222;color:#fff;cursor:pointer}
    button:hover{background:#444}
  </style>
</head>
<body>
  <h1>SlateClock · Links</h1>
  <div class="controls">
    <label>Admin token: 
      <input id="tok" placeholder="введи токен">
    </label>
    <button id="apply">Оновити</button>
  </div>
  <div id="tbl"></div>

  <script>
    function build(token){
      const proto = location.protocol;
      const host  = location.hostname;
      const port  = location.port || (proto==='https:'?'443':'80');
      const base  = proto + '//' + host + (port ? ':'+port : '');
      const wsProto = (proto === 'https:') ? 'wss' : 'ws';
      const ws = wsProto + '://' + host + (port ? ':'+port : '');

      const rows = [
        ['Годинник (звичайний)',              base + '/?ws=' + encodeURIComponent(ws) + '&autofs=1'],
        ['Годинник з початковою тех-строкою', base + '/?note=TAKE_01&ws=' + encodeURIComponent(ws) + '&autofs=1'],
        ['Годинник без HUD',                  base + '/?ws=' + encodeURIComponent(ws) + '&autofs=1&nohud=1'],
        ['Годинник з курсором',               base + '/?ws=' + encodeURIComponent(ws) + '&autofs=1&cursor=1'],
        ['Адмінка',                           base + '/admin?token=' + encodeURIComponent(token||'YOUR_TOKEN')],
        ['Швидке оновлення тех-строки',       base + '/set?note=TAKE_12&token=' + encodeURIComponent(token||'YOUR_TOKEN')],
      ];

      document.getElementById('tbl').innerHTML =
        '<table><thead><tr><th>Призначення</th><th>Лінк</th></tr></thead><tbody>' +
        rows.map(r => '<tr><td>'+r[0]+'</td><td><a href="'+r[1]+'" target="_blank">'+r[1]+'</a></td></tr>').join('') +
        '</tbody></table>';
    }

    document.getElementById('apply').onclick = () => build(document.getElementById('tok').value.trim());

    // Побудова без токена за замовчуванням
    build('');
  </script>
</body>
</html>
